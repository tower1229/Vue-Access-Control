{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/api/index.js","webpack:///./src/assets/util.js","webpack:///./src/assets/router.js","webpack:///./src/views/common/abstract.vue?70ba","webpack:///src/views/common/abstract.vue","webpack:///./src/views/common/abstract.vue?4d85","webpack:///./src/views/common/abstract.vue","webpack:///./src/route.config.js","webpack:///./src/assets/permission.js","webpack:///./src/permission.config.js","webpack:///./src/assets/access-control.js","webpack:///./src/App.vue?8012","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","instance","axios","baseURL","defaults","headers","post","interceptors","response","use","catchError","status","Vue","$message","getStringFromData","onClose","util","emit","indexOf","placeholder","msg","split","STORAGE_SPACE","storage","storageFun","localStorage","process","lsVal","getItem","JSON","parse","toString","Array","isArray","stringify","setItem","buildTree","flatArray","parentKey","sortFunction","IdMap","items","map","item","id","assign","itemMap","pid","children","treeItem","sortByFun","objectArray","sort","forEach","bus","busQueue","on","eventName","eventHandle","$off","$on","busQueueKeys","keys","$emit","routeInstance","_vm","this","_h","$createElement","_c","_self","attrs","_l","route","index","staticClass","_v","_s","_e","staticRenderFns","computed","$route","meta","component","MainRoute","path","require","icon","Abstract","redirect","BypassRoute","Router","routeAuthWhiteList","config","log","scrollBehavior","y","routes","beforeEach","GetAccountToken","SetAccountToken","token","getTokenFromLogin","res","GetPermission","params","Authorization","AfterGetActualRouter","actualRouter","userPermissions","$menuData","$userData","matchRequest","axiosRequest","regex","RegExp","match","join","getResourcePermission","resourcePermission","resources","method","toLowerCase","url","getRoutePermission","routePermission","setMenu2Hash","array","base","router","hashKey","menus","arrayMenus","requestPermission","replace","checkRoutePermission","replyResult","pathKey","fullPath","currentRouteRedirect","targetIndex","findIndex","warn","concat","body","innerHTML","addRoute","$_auth","RequiredPermissions","permission","collectPermission","fun","directive","inserted","el","binding","catch","install","AccessControl","to","from","next","query","$Permission","loginCallback","checkAccount","loginPayload","userToken","common","updateToken","$router","util_on","currentRoute","location","reload","created","ElementUI","routeGenerator","title","Permission","render","h","App","$mount"],"mappings":"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","file":"js/app.81a86e2f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0df1ba\":\"cb48592d\",\"chunk-2d0f1570\":\"57903575\",\"chunk-2d21ab96\":\"11152f03\",\"chunk-2e3b57ce\":\"7e826464\",\"chunk-48865f5a\":\"150e5c52\",\"chunk-4b2453ee\":\"0496ecb0\",\"chunk-6d844c85\":\"579e95d3\",\"chunk-01da9fec\":\"9ee21132\",\"chunk-2d0bd407\":\"e222da93\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-2e3b57ce\":1,\"chunk-48865f5a\":1,\"chunk-4b2453ee\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d0df1ba\":\"31d6cfe0\",\"chunk-2d0f1570\":\"31d6cfe0\",\"chunk-2d21ab96\":\"31d6cfe0\",\"chunk-2e3b57ce\":\"ac16ce9f\",\"chunk-48865f5a\":\"c3a51349\",\"chunk-4b2453ee\":\"471e1e47\",\"chunk-6d844c85\":\"31d6cfe0\",\"chunk-01da9fec\":\"31d6cfe0\",\"chunk-2d0bd407\":\"31d6cfe0\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/Vue-Access-Control/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import Vue from 'vue';\r\nimport axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'http://rap2api.taobao.org/app/mock/224',\r\n  timeout: 10000\r\n});\r\n\r\ninstance.defaults.headers.post['Content-Type'] = 'application/json';\r\n//错误处理\r\ninstance.interceptors.response.use(function (response) {\r\n  return response;\r\n}, function (error) {\r\n  return catchError(error)\r\n});\r\n\r\n\r\n/**\r\n * 请求错误处理\r\n * @param error[axios正常或异常返回数据] 所有服务器捕获的错误, 约定返回数据中用msg字段携带错误信息; \r\n * @return 401状态码会触发登出操作, 其他异常状态码只做提醒\r\n*/\r\nconst catchError = function (error) {\r\n  //原生错误对象\r\n  if (error.response) {\r\n    // that falls out of the range of 2xx\r\n    switch (error.response.status) {\r\n      case 400:\r\n        Vue.prototype.$message({\r\n          message: getStringFromData(error.response.data, '请求参数异常'),\r\n          type: 'error'\r\n        });\r\n        break;\r\n      case 401:\r\n        Vue.prototype.$message({\r\n          message: getStringFromData(error.response.data, '未授权或授权已过期'),\r\n          type: 'warning',\r\n          onClose: function () {\r\n            util.emit('logout')\r\n          }\r\n        });\r\n        break;\r\n      case 403:\r\n        Vue.prototype.$message({\r\n          message: getStringFromData(error.response.data, '无访问权限, 请联系企业管理员'),\r\n          type: 'warning'\r\n        });\r\n        break;\r\n      default:\r\n        if (error.response.status > 200 && error.response.status < 300) {\r\n          // 201 ~ 299 的情况\r\n          Vue.prototype.$message({\r\n            message: getStringFromData(error.response.data, '操作失败'),\r\n            type: 'warning'\r\n          });\r\n        } else {\r\n          Vue.prototype.$message({\r\n            message: getStringFromData(error.response.data, '服务异常'),\r\n            type: 'danger'\r\n          });\r\n\r\n        }\r\n    }\r\n  } else if (error.message) {\r\n    // Something happened in setting up the request that triggered an Error\r\n    let message = error.message;\r\n    if (message.indexOf('timeout') > -1) {\r\n      message = '请求超时, 请重试'\r\n      Vue.prototype.$message({\r\n        message,\r\n        type: 'error'\r\n      })\r\n    } else if (message.indexOf('Network') > -1) {\r\n      message = '网络异常'\r\n      Vue.prototype.$message({\r\n        message,\r\n        type: 'error'\r\n      })\r\n    } else {\r\n      Vue.prototype.$message({\r\n        message: getStringFromData(error.response.data, '服务异常'),\r\n        type: 'danger'\r\n      });\r\n    }\r\n  }\r\n\r\n  return Promise.reject(error)\r\n}\r\n// 获取错误信息\r\nconst getStringFromData = function (data, placeholder) {\r\n  if (typeof data === 'object' && data.msg) {\r\n    return data.msg\r\n  }\r\n  return data && data.split ? data : placeholder\r\n}\r\n\r\nexport default instance;","import Vue from 'vue'\r\n\r\n/**\r\n * 本地存储\r\n * @param key[String] 要存/取的键\r\n * @param value[any] 要存的值, 若缺省则返回key的值\r\n * @return 只传key会返回该key的值\r\n * */\r\nconst STORAGE_SPACE = '';           // 指定命名空间, 防止同域子项目间存储混淆\r\nexport const storage = function (key, value) {\r\n    const storageFun = localStorage;\r\n    key = `${STORAGE_SPACE || process.env.BASE_URL}_${key}`;           \r\n    if (value === void (0)) {\r\n        let lsVal = storageFun.getItem(key);\r\n        if (lsVal && lsVal.indexOf('autostringify-') === 0) {\r\n            return JSON.parse(lsVal.split('autostringify-')[1]);\r\n        } else {\r\n            return lsVal;\r\n        }\r\n    } else {\r\n        if ((Object.prototype.toString.call(value) === '[object Object]') || Array.isArray(value)) {\r\n            value = 'autostringify-' + JSON.stringify(value);\r\n        }\r\n        return storageFun.setItem(key, value);\r\n    }\r\n}\r\n\r\n/**\r\n * 对象/数组深拷贝\r\n * @param source[Object|Array] 要拷贝的对象\r\n * @return 深拷贝后的对象/数组\r\n * */\r\nexport const deepcopy = function (source) {\r\n    if (!source) {\r\n        return source;\r\n    }\r\n    let sourceCopy = source instanceof Array ? [] : {};\r\n    for (let item in source) {\r\n        sourceCopy[item] = typeof source[item] === 'object' ? deepcopy(source[item]) : source[item];\r\n    }\r\n    return sourceCopy;\r\n};\r\n\r\n/**\r\n * 一维对象数组转树形结构\r\n * @param array[对象数组] 对象数组中的对象必须包含id和[parentKey]键, 如{id: 1, pid: 0}。pid值为假或等于自身id, 则判定为一级节点\r\n * @param parentKey[String] 指向上级id的key, 默认\"pid\"\r\n * @param sortFunction[Function] 用于arrayObject.sort(sortFunction)的排序方法, 默认不排序\r\n * @return 由children键建立层级的对象数组\r\n * */\r\nexport const buildTree = function (flatArray, parentKey, sortFunction) {\r\n    // 存储id map\r\n    let IdMap = {};\r\n    // 数组浅拷贝\r\n    let items = flatArray.map(item => {\r\n        // 生成id map\r\n        IdMap[item.id] = true;\r\n        return Object.assign({}, item)\r\n    });\r\n    parentKey = parentKey || 'pid';\r\n    // 存放结果集\r\n    const result = [];\r\n    // 存放中转map\r\n    const itemMap = {};\r\n    // 一次遍历\r\n    for (const item of items) {\r\n        const id = item.id;\r\n        const pid = item[parentKey];\r\n\r\n        if (!itemMap[id]) {\r\n            itemMap[id] = {}\r\n        }\r\n\r\n        itemMap[id] = {\r\n            ...item,\r\n            children: Array.isArray(itemMap[id]['children']) ? itemMap[id]['children'] : null\r\n        }\r\n\r\n        const treeItem = itemMap[id];\r\n\r\n        if (!pid || pid === id || !IdMap[pid]) {\r\n            // 无可用pid视为根节点\r\n            result.push(treeItem);\r\n        } else {\r\n            if (!itemMap[pid]) {\r\n                itemMap[pid] = {\r\n                    children: []\r\n                }\r\n            }\r\n            if (!Array.isArray(itemMap[pid].children)) {\r\n                itemMap[pid].children = []\r\n            }\r\n            itemMap[pid].children.push(treeItem)\r\n        }\r\n\r\n    }\r\n    // 排序\r\n    if (typeof sortFunction === 'function') {\r\n        let sortByFun = function (objectArray) {\r\n            objectArray.sort(sortFunction);\r\n            objectArray.forEach(item => {\r\n                if (Array.isArray(item.children) && item.children.length) {\r\n                    sortByFun(item.children)\r\n                }\r\n            })\r\n        }\r\n        sortByFun(result);\r\n    }\r\n    return result;\r\n}\r\n\r\n/**\r\n * 日期格式化\r\n * @param value[milliseconds/dateString] 可以通过new Date()方法创建日期对象的毫秒数或日期字符串\r\n * @param fmt[String/undefined] 日期格式化模板字符串, 内置四种快捷方式：\"year\",\"month\",\"day\",\"day-time\" \r\n * @return 格式化后的日期字符串\r\n * */\r\nexport const formatDate = (value, fmt) => {\r\n    if (!value) {\r\n        return null\r\n    }\r\n    if (fmt === void (0)) {\r\n        fmt = 'day-time'\r\n    }\r\n    switch (fmt) {\r\n        case 'year':\r\n            fmt = \"yyyy\"\r\n            break;\r\n        case 'month':\r\n            fmt = \"yyyy/MM\"\r\n            break;\r\n        case 'day':\r\n            fmt = \"yyyy/MM/dd\"\r\n            break;\r\n        case 'day-time':\r\n            fmt = \"yyyy/MM/dd hh:mm\"\r\n            break;\r\n    }\r\n    if (!isNaN(parseInt(value))) {\r\n        value = parseInt(value)\r\n    }\r\n\r\n    let getDate = new Date(value);\r\n    let o = {\r\n        'M+': getDate.getMonth() + 1,\r\n        'd+': getDate.getDate(),\r\n        'h+': getDate.getHours(),\r\n        'm+': getDate.getMinutes(),\r\n        's+': getDate.getSeconds(),\r\n        'q+': Math.floor((getDate.getMonth() + 3) / 3),\r\n        'S': getDate.getMilliseconds()\r\n    }\r\n    if (/(y+)/.test(fmt)) {\r\n        fmt = fmt.replace(RegExp.$1, (getDate.getFullYear() + '').substr(4 - RegExp.$1.length))\r\n    }\r\n    for (let k in o) {\r\n        if (new RegExp('(' + k + ')').test(fmt)) {\r\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : (('00' + o[k]).substr(('' + o[k]).length)))\r\n        }\r\n    }\r\n    return fmt\r\n}\r\n\r\n/**\r\n * 全局事件\r\n * 特性：\r\n * 1. 重复注册同一个事件, 只保留最后一次。使单页面应用反复进入页面不会重复注册事件\r\n * 2. 可以通过别名方式将一个事件多次注册。在1的前提下允许同一个事件多次注册\r\n*/\r\nconst bus = new Vue();\r\nlet busQueue = {};\r\n/**\r\n * 全局事件监听\r\n * @param eventName[String] 自定义事件名称, 支持用双下划线添加别名, 如 eventName__ANYSTRING\r\n * @param eventHandle[Function] 事件回调方法, 参数接收触发事件方法发送的参数; 如果不传将关闭该事件监听\r\n*/\r\nexport const on = function (eventName, eventHandle) {\r\n    if (eventName && eventName.split) {\r\n        if (busQueue[eventName]) {\r\n            bus.$off(eventName, busQueue[eventName])\r\n        }\r\n        if (typeof eventHandle === 'function') {\r\n            busQueue[eventName] = eventHandle;\r\n            return bus.$on(eventName, eventHandle)\r\n        } else {\r\n            bus.$off(eventName)\r\n        }\r\n    }\r\n};\r\n/**\r\n * 全局事件触发\r\n * @param eventName[String] 要触发的事件名称, 不需要包含别名部分, 如 myEvent__alias1, 只需要传入 myEvent\r\n * @param msg[any] 触发事件时携带的参数\r\n*/\r\nexport const emit = function (eventName, msg) {\r\n    const busQueueKeys = Object.keys(busQueue);\r\n    busQueueKeys.forEach(key => {\r\n        if (eventName === key.split('__')[0]) {\r\n            return bus.$emit(key, msg)\r\n        }\r\n    })\r\n};\r\n\r\n/**\r\n * 提取文件名中的扩展名\r\n * @param filename[String] 要提取扩展名的字符串\r\n * @return 转小写后的扩展名字符串\r\n*/\r\nexport const getSuffix = (filename) => {\r\n    let pos = filename.lastIndexOf('.')\r\n    let suffix = ''\r\n    if (pos != -1) {\r\n        suffix = filename.substring(pos + 1)\r\n    }\r\n    return suffix.toLowerCase();\r\n}\r\n\r\n/**\r\n * 函数节流\r\n * @param method[Function] 要节流的函数方法\r\n * @param delay[Number] 过滤执行的间隔毫秒数, 默认128\r\n * @param duration 至少执行一次的间隔毫秒数, 默认1000\r\n * @return 具有节流特性的新函数\r\n*/\r\n\r\nexport const throttle = function throttle(method, delay, duration) {\r\n    let timer = null,\r\n        begin = new Date();\r\n    delay = delay ? delay : 128;\r\n    duration = duration ? duration : 1000;\r\n    return function () {\r\n        let context = this,\r\n            args = arguments,\r\n            current = new Date();\r\n        clearTimeout(timer);\r\n        if (current - begin >= duration) {\r\n            method.apply(context, args);\r\n            begin = current;\r\n        } else {\r\n            timer = setTimeout(function () {\r\n                method.apply(context, args);\r\n            }, delay);\r\n        }\r\n    };\r\n};\r\n\r\n/**\r\n * 获取url中的query值\r\n * @param keyName[String] 要获取的参数名\r\n * @param url[String] 目标url, 默认当前窗口url\r\n * @return keyName参数的值\r\n*/\r\nexport const getUrlParam = function (keyName, url) {\r\n    if (keyName && keyName.split) {\r\n        var urlParamReg = new RegExp(\"(^|&)\" + keyName + \"=([^&#/]*)\", \"i\");\r\n        var s = (url ? url : window.location.href).split('?')[1] || '';\r\n        var r = s.match(urlParamReg);\r\n        if (r !== null) {\r\n            return decodeURI(r[2]);\r\n        }\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nVue.use(Router)\r\n\r\nimport { BypassRoute } from '@/route.config'\r\n\r\n// 路由实例\r\nlet routeInstance;\r\n\r\nexport default function (config) {\r\n  if (!routeInstance) {\r\n    console.log('[Core] Router Start.')\r\n\r\n    routeInstance = new Router({\r\n      scrollBehavior: () => ({ y: 0 }),\r\n      routes: BypassRoute\r\n    });\r\n\r\n    if(config.beforeEach){\r\n      routeInstance.beforeEach(config.beforeEach)\r\n    }\r\n  }\r\n\r\n  return routeInstance\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.children)?_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.children),function(route,index){return _c('el-col',{key:index,attrs:{\"span\":4}},[_c('el-card',[_c('div',{staticClass:\"text\"},[_c('p',[_vm._v(_vm._s(route.name))]),_c('router-link',{attrs:{\"to\":{name: route.name}}},[_vm._v(\"查看\")])],1)])],1)}),1):_vm._e(),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-row :gutter=\"20\" v-if=\"children\">\r\n      <el-col :span=\"4\" v-for=\"(route, index) in children\" :key=\"index\">\r\n        <el-card>\r\n          <div class=\"text\">\r\n            <p>{{route.name}}</p>\r\n            <router-link :to=\"{name: route.name}\">查看</router-link>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      \r\n    };\r\n  },\r\n  computed: {\r\n    children: function(){\r\n      return this.$route.meta.children || null\r\n    }\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./abstract.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./abstract.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./abstract.vue?vue&type=template&id=7a871dbe&\"\nimport script from \"./abstract.vue?vue&type=script&lang=js&\"\nexport * from \"./abstract.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Abstract from '@/views/common/abstract.vue';\r\n\r\n// 主路由\r\nexport const MainRoute = [{\r\n    path: '/',\r\n    name: '首页',\r\n    component: (resolve) => require(['@/views/index.vue'], resolve),\r\n    children: [{\r\n        path: '/roles',\r\n        name: '平台-角色管理',\r\n        meta: {\r\n            name: '角色管理'\r\n        },\r\n        component: (resolve) => require(['@/views/roles.vue'], resolve)\r\n    }, {\r\n        path: '/accounts',\r\n        name: '平台-账号管理',\r\n        meta: {\r\n            name: '账号管理'\r\n        },\r\n        component: (resolve) => require(['@/views/accounts.vue'], resolve)\r\n    }, {\r\n        path: '/goods',\r\n        name: '商品管理',\r\n        meta: {\r\n            icon: '&#xe62e;'\r\n        },\r\n        component: Abstract,\r\n        redirect: '/goods/list',\r\n        children: [{\r\n            path: 'list',\r\n            name: '商品信息',\r\n            meta: {\r\n\r\n            },\r\n            component: (resolve) => require(['@/views/goods-list.vue'], resolve)\r\n        }]\r\n    }]\r\n}];\r\n\r\n\r\n// 旁路路由\r\nexport const BypassRoute = [{\r\n    path: '/login',\r\n    name: '登录',\r\n    component: (resolve) => require(['@/views/login.vue'], resolve)\r\n}, {\r\n    path: '/401',\r\n    name: '无权访问',\r\n    component: (resolve) => require(['@/views/common/401.vue'], resolve)\r\n}, {\r\n    path: '/404',\r\n    name: '找不到页面',\r\n    component: (resolve) => require(['@/views/common/404.vue'], resolve)\r\n}]\r\n","import AccessControl from \"./access-control\";\r\nimport { on as util_on } from \"@/assets/util\";\r\nimport instance  from \"@/api\";\r\nimport { MainRoute, BypassRoute } from \"@/route.config\";\r\nimport { GetAccountToken, SetAccountToken, getTokenFromLogin } from \"@/permission.config\";\r\n\r\nlet routeAuthWhiteList;\r\n\r\nexport default {\r\n    install: function (Vue, config) {\r\n        // 路由访问免登录白名单\r\n        routeAuthWhiteList = BypassRoute.map((e) => e.path);\r\n\r\n        console.log(\"[Core] Permission Open. Whitelist:\", routeAuthWhiteList);\r\n        \r\n        // 权限关闭 注册主路由\r\n        if(!config.AccessControl){\r\n            MainRoute.forEach(route => {\r\n                config.routeInstance.addRoute(route)\r\n            })\r\n        }\r\n\r\n        config.routeInstance.beforeEach((to, from, next) => {\r\n            // console.log('路由守卫', to)\r\n            if (!GetAccountToken()) {\r\n                if (routeAuthWhiteList.indexOf('/' + to.path.split('/')[1]) !== -1) {\r\n                    // console.log('未登录访问白名单')\r\n                    return next();\r\n                } else if (to.path !== \"/login\") {\r\n                    // 未登录跳转登录页\r\n                    let query = {\r\n                        redirect: to.fullPath\r\n                    };\r\n                    return next({\r\n                        path: \"/login\",\r\n                        query\r\n                    });\r\n                }\r\n            }\r\n            next()\r\n        })\r\n\r\n        Vue.prototype.$Permission = function (loginCallback) {\r\n            const checkAccount = (loginPayload) => {\r\n                const userToken = GetAccountToken();\r\n\r\n                if (userToken) {\r\n                    // 设置请求头\r\n                    instance.defaults.headers.common['Authorization'] = userToken;\r\n\r\n                    new Promise(resolve => {\r\n                        if (loginPayload && loginPayload.updateToken) {\r\n                            // 与 request.js 约定自动续期标记：updateToken\r\n                            console.log(\"Token 已自动续期\");\r\n                        }\r\n                        if (config.AccessControl) {\r\n                            resolve(AccessControl(Vue, config.routeInstance))\r\n                        } else {\r\n                            resolve()\r\n                        }\r\n                    }).then(() => {\r\n                        if (loginPayload && loginPayload.redirect) {\r\n                            this.$router.replace({ path: loginPayload.redirect });\r\n                        }\r\n                        typeof loginCallback === 'function' && loginCallback(userToken)\r\n                    })\r\n                }\r\n            }\r\n\r\n            util_on(\"login\", (res) => {\r\n                /*\r\n                 * 监听 \"login\" 事件\r\n                 */\r\n                SetAccountToken(getTokenFromLogin(res))\r\n\r\n                checkAccount(res)\r\n\r\n            });\r\n\r\n            util_on(\"logout\", () => {\r\n                /*\r\n                 * 监听 \"logout\" 事件\r\n                 */\r\n                SetAccountToken(\"\")\r\n\r\n                if (\r\n                    routeAuthWhiteList.indexOf(\r\n                        \"/\" + this.$router.currentRoute.path.split(\"/\")[1]\r\n                    ) === -1\r\n                ) {\r\n                    // 非白名单路由刷新, 触发路由守卫的未登录逻辑\r\n                    window.location.reload();\r\n                }\r\n            });\r\n\r\n            return checkAccount()\r\n        }\r\n    }\r\n}","import Vue from 'vue';\r\n\r\nimport { storage } from \"@/assets/util\";\r\nimport instance from \"@/api\"\r\n\r\n// 获取用户登录凭据方法\r\nexport const GetAccountToken = () => storage(\"auth\")\r\n\r\n// 设置用户登录凭据方法\r\nexport const SetAccountToken = token => storage(\"auth\", token)\r\n\r\n// 登录返回数据获取凭据方法\r\nexport const getTokenFromLogin = res => res.data.token\r\n\r\n// 获取用户权限数据方法\r\nexport const GetPermission = () => instance.get(`/signin`, {\r\n    params: {\r\n      Authorization: GetAccountToken()\r\n    }\r\n  }).then(res => res.data);\r\n\r\n// 获取路由权限后回调\r\nexport const AfterGetActualRouter = (actualRouter, userPermissions) => {\r\n    Vue.prototype.$menuData = actualRouter; \r\n    Vue.prototype.$userData = userPermissions;\r\n};\r\n\r\n","import instance from \"@/api\";\r\nimport { buildTree } from \"@/assets/util\"\r\nimport { MainRoute } from \"@/route.config\";\r\nimport { SetAccountToken, GetPermission, AfterGetActualRouter } from \"@/permission.config\";\r\n\r\n/**\r\n * 从axios请求函数中提取请求信息\r\n * @param axiosRequest[Function] axios请求方法\r\n * @return 请求信息字符串, 例如 'get,/url1'\r\n * */\r\nexport const matchRequest = function (axiosRequest) {\r\n    let result = null;\r\n    if (typeof axiosRequest === 'function') {\r\n        let regex = new RegExp(/\\.([^(]+)\\(\"([^\"]+)\"/); // 匹配请求函数：instance.post(\"/org\", params)\r\n        result = axiosRequest.toString().match(regex);\r\n        if (result && result.length > 2) {\r\n            result = [result[1], result[2]].join(\",\")\r\n        }\r\n    }\r\n    return result\r\n}\r\n\r\n// 从用户权限数据中提取请求权限\r\nconst getResourcePermission = function (userPermissions) {\r\n    let resourcePermission = {};\r\n    if (Array.isArray(userPermissions.resources)) {\r\n        userPermissions.resources.forEach((e) => {\r\n            let key = e.method.toLowerCase() + \",\" + e.url;\r\n            resourcePermission[key] = true;\r\n        });\r\n    }\r\n    return resourcePermission;\r\n}\r\n\r\n// 从用户权限数据中提取路由权限\r\nconst getRoutePermission = function (userPermissions) {\r\n    let routePermission = {};\r\n    let setMenu2Hash = function (array, base) {\r\n        array.forEach((router) => {\r\n            if (router.route) {\r\n                let hashKey = router.route.indexOf('/') === 0 ? router.route : [base, router.route].join(base === '/' ? '' : '/');\r\n                routePermission[hashKey] = true;\r\n                if (Array.isArray(router.children)) {\r\n                    setMenu2Hash(router.children, hashKey);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    if (Array.isArray(userPermissions.menus)) {\r\n        let arrayMenus = buildTree(userPermissions.menus, \"parent_id\");\r\n        setMenu2Hash(arrayMenus);\r\n    }\r\n    return routePermission;\r\n}\r\n\r\nexport default function (Vue, routeInstance) {\r\n    console.log(\"[Core] AccessControl Open.\")\r\n\r\n    return new Promise((resolve, reject) => {\r\n        /*\r\n         * Step 1: 请求用户权限数据, 格式如下:\r\n         {\r\n            menus: [{\r\n                name: (...)\r\n                route: (...)\r\n            }],\r\n            resources: [{\r\n                method: (...)\r\n                name: (...)\r\n                type: (...)\r\n                url: (...)\r\n            }]\r\n         }\r\n        */\r\n        GetPermission().then((userPermissions) => {\r\n            console.log('userPermissions', userPermissions)\r\n            let resourcePermission = getResourcePermission(userPermissions);\r\n            let routePermission = getRoutePermission(userPermissions);\r\n            console.log('routePermission', routePermission)\r\n            /*\r\n             * 设置Axios请求拦截\r\n             */\r\n            instance.interceptors.request.use((config) => {\r\n                // 支持 header 携带自定义请求权限\r\n                let requestPermission = config.headers[\"X-Request-Permission\"] || [config.method, config.url.replace(config.baseURL, \"\").split(\"?\")[0]].join(\",\");\r\n\r\n                if (!resourcePermission[requestPermission]) {\r\n                    return Promise.reject({\r\n                        response: {\r\n                            status: 403,\r\n                            data: `${requestPermission} 请求未授权`,\r\n                        }\r\n                    });\r\n                }\r\n                return config;\r\n            });\r\n\r\n            /*\r\n             * 根据路由权限动态添加路由\r\n             */\r\n\r\n            let actualRouter = [];\r\n            // 递归校验路由权限\r\n            let checkRoutePermission = function (array, base) {\r\n                let replyResult = [];\r\n                array.forEach((route) => {\r\n                    let pathKey = route.path.indexOf('/') === 0 ? route.path : [base, route.path].join(base === '/' ? '' : '/');\r\n                    console.log('pathKey', pathKey)\r\n                    // 扩展fullPath\r\n                    route.fullPath = pathKey;\r\n                    // 扩展meta\r\n                    if (!route.meta) {\r\n                        route.meta = {};\r\n                    }\r\n\r\n                    if (routePermission[pathKey]) {\r\n                        if (Array.isArray(route.children)) {\r\n                            route.children = checkRoutePermission(\r\n                                route.children,\r\n                                pathKey\r\n                            );\r\n                            // 检查 Redirect 并自动纠正\r\n                            const currentRouteRedirect = route.redirect;\r\n                            if (\r\n                                currentRouteRedirect &&\r\n                                currentRouteRedirect.split &&\r\n                                route.children.length\r\n                            ) {\r\n                                const targetIndex = route.children.findIndex((e) => {\r\n                                    return e.fullPath === currentRouteRedirect;\r\n                                });\r\n                                if (targetIndex === -1) {\r\n                                    console.warn(\r\n                                        `${route.redirect}不在路由权限内, 自动重置为${route.children[0].fullPath}`\r\n                                    );\r\n                                    route.redirect = route.children[0].fullPath;\r\n                                }\r\n                            }\r\n                        }\r\n                        replyResult.push(route);\r\n                    }\r\n                });\r\n                if (base) {\r\n                    return replyResult;\r\n                } else {\r\n                    actualRouter = actualRouter.concat(replyResult);\r\n                }\r\n            };\r\n            checkRoutePermission(MainRoute);\r\n            console.log('actualRouter', actualRouter)\r\n            // 如果没有任何路由权限, 判断为非法用户, 登出并终止应用执行\r\n            if (!actualRouter || !actualRouter.length) {\r\n                SetAccountToken(\"\");\r\n                return reject(document.body.innerHTML =\r\n                    \"<h1>账号访问受限, 请联系系统管理员！</h1>\");\r\n            }\r\n\r\n            actualRouter.forEach((route) => {\r\n                routeInstance.addRoute(route);\r\n            });\r\n\r\n            routeInstance.addRoute({\r\n                path: \"*\",\r\n                redirect: \"/404\",\r\n            });\r\n\r\n            /*\r\n             * 注册 this.$_auth 方法\r\n             */\r\n\r\n            Vue.prototype.$_auth = function (axiosRequest) {\r\n                let RequiredPermissions = [];\r\n                let permission = true;\r\n                let collectPermission = function (fun) {\r\n                    let res = matchRequest(fun);\r\n                    if (res) {\r\n                        RequiredPermissions.push(res);\r\n                    }\r\n                };\r\n                if (Array.isArray(axiosRequest)) {\r\n                    axiosRequest.forEach(collectPermission);\r\n                } else if (typeof axiosRequest === \"function\") {\r\n                    collectPermission(axiosRequest);\r\n                }\r\n                //console.log(RequiredPermissions, resourcePermission)\r\n                for (let i = 0; i < RequiredPermissions.length; i++) {\r\n                    let p = RequiredPermissions[i];\r\n                    if (!resourcePermission[p]) {\r\n                        permission = false;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                return permission;\r\n            };\r\n\r\n            // v-auth 指令\r\n            Vue.directive('auth', {\r\n                inserted: function (el, binding) {\r\n                    if (Vue.prototype.$_auth && !Vue.prototype.$_auth(binding.value)) {\r\n                        el.parentNode.removeChild(el);\r\n                    }\r\n                }\r\n            });\r\n\r\n            // 获取路由权限回调\r\n            AfterGetActualRouter(actualRouter, userPermissions);\r\n\r\n            resolve({ resourcePermission, routePermission, actualRouter });\r\n        }).catch(reject)\r\n\r\n    })\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view',{attrs:{\"id\":\"app\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <router-view id=\"app\" />\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  created: function () {\r\n    this.$Permission(() => {\r\n      console.log('login success!')\r\n\r\n    });\r\n  },\r\n};\r\n</script>","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=25a21ae2&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\r\n\r\nimport ElementUI from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\nVue.use(ElementUI);\r\n\r\n// 全局css\r\nimport \"@/assets/common.css\"\r\n\r\n// 路由\r\nimport routeGenerator from '@/assets/router';\r\nconst routeInstance = routeGenerator({\r\n    beforeEach: ((to, from, next) => {\r\n        if (to.name) {\r\n            document.title = to.meta.title || to.name;\r\n        }\r\n        next()\r\n    })\r\n})\r\n\r\n// 登录鉴权\r\nimport Permission from \"@/assets/permission\";\r\nVue.use(Permission, {\r\n    AccessControl: true,    // 权限控制\r\n    routeInstance\r\n});\r\n\r\n// 应用启动\r\nimport App from './App.vue';\r\n\r\nnew Vue({\r\n    router: routeInstance,\r\n    render: h => h(App)\r\n}).$mount('#app');\r\n\r\n"],"sourceRoot":""}